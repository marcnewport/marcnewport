var mp_fullscreen_video=PageType.extend({setup:function(){this.player={};this.html.append($$("div","video-wrap").append($$("div","fullscreen-video-"+this.id)));this._super()},pageReady:function(){this._super();var l_video=$.makeArray(this.data.video.item)[0],l_player={},$pageTitle=_app.$content.find(".page-title"),$inner=_app.$content.find(".inner"),l_availableWidth=$inner.width(),l_availableHeight=$inner.height()-$pageTitle.height(),l_width=l_availableWidth,l_height=Math.round(l_width/16*9),l_padding=0,l_float="left";if(l_height>l_availableHeight){l_height=l_availableHeight;l_width=Math.round(l_height/9*16)}l_video.width=l_width;l_video.height=l_height;if(Number(this.data.autoplay)&&Number(l_video.streaming)){if(l_video.address.indexOf("?")<0){l_video.address+="?autoplay=1"}else{l_video.address+="&autoplay=1"}}l_player=_app.setupVideoPlayer("fullscreen-video-"+this.id,l_video);this.player=l_player;if(l_player.jwplayer&&Number(this.data.autoplay)){l_player.onBufferFull(function(){if(l_player.getState()=="PAUSED"){l_player.play()}})}if(l_video.description){$inner.find("#video-wrap").append($$("div").html(l_video.description).transcript("right",{width:l_availableWidth-l_width,height:l_height},"fullscreen-video-"+this.id))}else{l_padding=(l_availableWidth-l_width)/2;l_float="none"}$inner.find("#video-wrap").css("padding-left",l_padding+"px").find(".jwplayer-wrap").css("float",l_float)},resizePage:function(){}});